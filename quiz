<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Quiz App</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
body { font-family: 'Poppins', sans-serif; background: #f0f2f5; }
header { background:#0d6efd; color:white; padding:20px; text-align:center; position:relative; }
header h1 { margin:0; font-size:1.8rem; }
#logoutBtn { position:absolute; top:15px; right:20px; }
#welcomeUser { position:absolute; top:15px; left:20px; font-weight:600; }
.container-box { max-width:900px; margin:40px auto; background:#fff; padding:30px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.15); }
.btn-custom { min-width:150px; font-weight:600; }
section { display:none; opacity:0; transition: opacity 0.5s ease-in-out; }
section.show { display:block; opacity:1; }
.progress { height:20px; border-radius:10px; }
.card-category { transition: transform .3s; cursor:pointer; color:white; font-weight:600; padding:30px 10px; border-radius:12px; }
.card-category i { font-size:2rem; margin-bottom:10px; display:block; }
.card-category:hover { transform: scale(1.05); }
#questionText, #options { transition: opacity 0.3s ease-in-out; }
.text-center h2 { font-weight:600; margin-bottom:20px; }
@media(max-width:600px){ .btn-custom { width:100%; } }
.science { background:#0dcaf0; }
.gk { background:#198754; }
.english { background:#ffc107; color:#212529; }
.history { background:#dc3545; }
.sports { background:#6f42c1; }
.math { background:#fd7e14; }
</style>
</head>
<body>

<header>
  <h1>Ultimate Quiz App</h1>
  <div id="welcomeUser"></div>
  <button id="logoutBtn" class="btn btn-outline-light btn-sm" onclick="logout()">Logout</button>
</header>

<!-- Login Page -->
<section id="loginPage" class="container-box text-center">
  <h3>Login</h3>
  <input type="text" id="loginUser" class="form-control mb-3" placeholder="Username">
  <input type="password" id="loginPass" class="form-control mb-3" placeholder="Password">
  <button class="btn btn-primary btn-custom" onclick="login()">Login</button>
</section>

<!-- Name Page -->
<section id="namePage" class="container-box text-center">
  <h3>Welcome!</h3>
  <p>Enter your display name:</p>
  <input type="text" id="displayName" class="form-control mb-3" placeholder="Display Name">
  <button class="btn btn-primary btn-custom" onclick="startQuiz()">Continue</button>
</section>

<!-- Home Page -->
<section id="homePage" class="container-box text-center">
  <h2>Welcome to Ultimate Quiz App</h2>
  <p>Test your knowledge across various categories!</p>
  <button class="btn btn-success btn-custom mt-3" onclick="showCategoryPage()">Start Quiz</button>
</section>

<!-- Category Page -->
<section id="categoryPage" class="container-box text-center">
  <h3>Select a Quiz Category</h3>
  <div class="row mt-4 g-3">
    <div class="col-md-4">
      <div class="card-category science text-center" onclick="chooseCategory('Science')"><i class="fas fa-flask"></i>Science</div>
    </div>
    <div class="col-md-4">
      <div class="card-category gk text-center" onclick="chooseCategory('General Knowledge')"><i class="fas fa-globe"></i>General Knowledge</div>
    </div>
    <div class="col-md-4">
      <div class="card-category english text-center" onclick="chooseCategory('English')"><i class="fas fa-book"></i>English</div>
    </div>
    <div class="col-md-4">
      <div class="card-category history text-center" onclick="chooseCategory('History')"><i class="fas fa-landmark"></i>History</div>
    </div>
    <div class="col-md-4">
      <div class="card-category sports text-center" onclick="chooseCategory('Sports')"><i class="fas fa-football-ball"></i>Sports</div>
    </div>
    <div class="col-md-4">
      <div class="card-category math text-center" onclick="chooseCategory('Math')"><i class="fas fa-square-root-alt"></i>Math</div>
    </div>
  </div>
  <button class="btn btn-secondary btn-custom mt-4" onclick="backToHome()">Back to Home</button>
</section>

<!-- Quiz Section -->
<section id="quizSection" class="container-box">
  <h4 id="categoryTitle"></h4>
  <div class="progress mb-3">
    <div id="progressBar" class="progress-bar" role="progressbar" style="width:0%">0%</div>
  </div>
  <p id="questionText"></p>
  <div id="options"></div>
  <div class="d-flex justify-content-between mt-4">
    <button class="btn btn-secondary btn-custom" onclick="prevQuestion()">Previous</button>
    <button class="btn btn-secondary btn-custom" onclick="nextQuestion()">Next</button>
  </div>
  <div class="text-center mt-4">
    <button id="submitBtn" class="btn btn-success btn-custom" onclick="submitQuiz()">Submit Quiz</button>
  </div>
</section>

<!-- Score Section -->
<section id="scoreSection" class="container-box text-center">
  <h3>Quiz Completed</h3>
  <p id="scoreText"></p>
  <p id="totalScoreText"></p>
  <button class="btn btn-primary btn-custom" onclick="feedbackPage()">Give Feedback</button>
  <button class="btn btn-secondary btn-custom" onclick="backToHome()">Back to Categories</button>
</section>

<!-- Feedback Page -->
<section id="feedbackSection" class="container-box text-center">
  <h3>Feedback & Suggestions</h3>
  <textarea id="feedbackText" class="form-control mb-3" placeholder="Enter your feedback here"></textarea>
  <button class="btn btn-success btn-custom" onclick="submitFeedback()">Submit Feedback</button>
  <button class="btn btn-secondary btn-custom mt-2" onclick="backToHome()">Back to Categories</button>
  <p id="feedbackMsg" class="mt-3 text-success"></p>
</section>

<script>
let username="", displayName="", currentCategory="", currentIndex=0;
let userAnswers={}, totalScore=0;
let currentQuestions=[];

// Questions (each category has 20+ questions)
const questions=[
  // Science
  {category:"Science", q:"H2O is?", options:["Hydrogen","Water","Oxygen","Salt"], answer:1},
  {category:"Science", q:"Gas humans breathe?", options:["CO2","Oxygen","Nitrogen","Hydrogen"], answer:1},
  {category:"Science", q:"Speed of light?", options:["300,000 km/s","150,000 km/s","1,000 km/s","500,000 km/s"], answer:0},
  {category:"Science", q:"Heart pumps?", options:["Brain","Heart","Lungs","Liver"], answer:1},
  {category:"Science", q:"Einstein famous for?", options:["Gravity","Relativity","Chemistry","Biology"], answer:1},
  {category:"Science", q:"Planet known as Red?", options:["Mars","Earth","Venus","Jupiter"], answer:0},
  {category:"Science", q:"Atomic number of H?", options:["1","2","3","4"], answer:0},
  {category:"Science", q:"Boiling point of water?", options:["90째C","100째C","120째C","80째C"], answer:1},
  {category:"Science", q:"Sun is a?", options:["Star","Planet","Moon","Asteroid"], answer:0},
  {category:"Science", q:"Which gas is for photosynthesis?", options:["Oxygen","CO2","Nitrogen","Helium"], answer:1},
  {category:"Science", q:"Light travels fastest in?", options:["Water","Air","Vacuum","Glass"], answer:2},
  {category:"Science", q:"Human skeleton has?", options:["206 bones","205 bones","210 bones","200 bones"], answer:0},
  {category:"Science", q:"Earth revolves around?", options:["Sun","Moon","Mars","Venus"], answer:0},
  {category:"Science", q:"Sound travels fastest in?", options:["Air","Water","Steel","Vacuum"], answer:2},
  {category:"Science", q:"Most abundant element?", options:["Hydrogen","Oxygen","Nitrogen","Carbon"], answer:0},
  {category:"Science", q:"Energy unit?", options:["Joule","Watt","Newton","Volt"], answer:0},
  {category:"Science", q:"Chemical symbol of gold?", options:["Au","Ag","Gd","Go"], answer:0},
  {category:"Science", q:"Blood type universal donor?", options:["O+","O-","AB+","A+"], answer:1},
  {category:"Science", q:"Solar system largest planet?", options:["Saturn","Jupiter","Earth","Mars"], answer:1},
  {category:"Science", q:"Vitamin C source?", options:["Orange","Potato","Rice","Meat"], answer:0},
  // General Knowledge
  {category:"General Knowledge", q:"Capital of France?", options:["Berlin","Madrid","Paris","Rome"], answer:2},
  {category:"General Knowledge", q:"Largest ocean?", options:["Atlantic","Indian","Pacific","Arctic"], answer:2},
  {category:"General Knowledge", q:"7 continents exist?", options:["Yes","No"], answer:0},
  {category:"General Knowledge", q:"Currency of Japan?", options:["Yen","Dollar","Euro","Pound"], answer:0},
  {category:"General Knowledge", q:"Olympics frequency?", options:["2","3","4","5"], answer:2},
  {category:"General Knowledge", q:"UN founded in?", options:["1945","1919","1939","1950"], answer:0},
  {category:"General Knowledge", q:"Largest desert?", options:["Sahara","Gobi","Kalahari","Arabian"], answer:0},
  {category:"General Knowledge", q:"Fastest land animal?", options:["Cheetah","Lion","Tiger","Horse"], answer:0},
  {category:"General Knowledge", q:"Mount Everest height?", options:["8848m","8000m","9000m","8700m"], answer:0},
  {category:"General Knowledge", q:"Earth shape?", options:["Flat","Sphere","Cube","Cylinder"], answer:1},
  {category:"General Knowledge", q:"Nobel Prize awarded by?", options:["Sweden","USA","Germany","UK"], answer:0},
  {category:"General Knowledge", q:"Biggest planet?", options:["Earth","Jupiter","Saturn","Mars"], answer:1},
  {category:"General Knowledge", q:"Largest country?", options:["China","USA","Russia","Canada"], answer:2},
  {category:"General Knowledge", q:"Deepest ocean point?", options:["Mariana Trench","Tonga Trench","Java Trench","Puerto Rico Trench"], answer:0},
  {category:"General Knowledge", q:"Light travels in?", options:["Vacuum","Water","Glass","Steel"], answer:0},
  {category:"General Knowledge", q:"Fastest computer unit?", options:["Hz","GHz","GHz","MHz"], answer:1},
  {category:"General Knowledge", q:"Internet invented?", options:["1969","1979","1989","1999"], answer:0},
  {category:"General Knowledge", q:"Pyramids located?", options:["Egypt","Mexico","Peru","India"], answer:0},
  {category:"General Knowledge", q:"Shakespeare wrote?", options:["Hamlet","Odyssey","Iliad","Divine Comedy"], answer:0},
  {category:"General Knowledge", q:"Currency of UK?", options:["Dollar","Pound","Euro","Rupee"], answer:1},
  // English
  {category:"English", q:"Synonym of 'Happy'?", options:["Sad","Glad","Angry","Tired"], answer:1},
  {category:"English", q:"Antonym of 'Big'?", options:["Large","Small","Huge","Tall"], answer:1},
  {category:"English", q:"Plural of 'Mouse'?", options:["Mouses","Mice","Mouse","Mices"], answer:1},
  {category:"English", q:"Past tense of 'Go'?", options:["Gone","Went","Go","Goes"], answer:1},
  {category:"English", q:"Opposite of 'Light'?", options:["Dark","Bright","Heavy","Soft"], answer:0},
  {category:"English", q:"Article for 'Apple'?", options:["A","An","The","None"], answer:1},
  {category:"English", q:"Plural of 'Child'?", options:["Childs","Children","Childer","Childes"], answer:1},
  {category:"English", q:"Synonym of 'Smart'?", options:["Dull","Intelligent","Slow","Kind"], answer:1},
  {category:"English", q:"Opposite of 'Fast'?", options:["Quick","Rapid","Slow","Speedy"], answer:2},
  {category:"English", q:"Past participle of 'Write'?", options:["Writed","Wrote","Written","Writ"], answer:2},
  {category:"English", q:"Antonym of 'Early'?", options:["Late","Soon","Ahead","Before"], answer:0},
  {category:"English", q:"Synonym of 'Begin'?", options:["Start","End","Finish","Close"], answer:0},
  {category:"English", q:"Plural of 'Foot'?", options:["Feet","Foots","Foote","Futes"], answer:0},
  {category:"English", q:"Past tense of 'Run'?", options:["Run","Ran","Runned","Rane"], answer:1},
  {category:"English", q:"Antonym of 'Hard'?", options:["Soft","Tough","Difficult","Solid"], answer:0},
  {category:"English", q:"Synonym of 'Funny'?", options:["Humorous","Serious","Sad","Angry"], answer:0},
  {category:"English", q:"Opposite of 'Empty'?", options:["Full","Vacant","Bare","Hollow"], answer:0},
  {category:"English", q:"Plural of 'Tooth'?", options:["Teeth","Tooths","Toothe","Teth"], answer:0},
  {category:"English", q:"Past participle of 'See'?", options:["Saw","Seen","Seed","Sewn"], answer:1},
  {category:"English", q:"Antonym of 'Cold'?", options:["Hot","Warm","Cool","Freezing"], answer:0},
  // History
  {category:"History", q:"First US president?", options:["Lincoln","Washington","Jefferson","Adams"], answer:1},
  {category:"History", q:"Year WW2 ended?", options:["1940","1945","1950","1939"], answer:1},
  {category:"History", q:"Great Wall located?", options:["India","China","Japan","Korea"], answer:1},
  {category:"History", q:"Who discovered America?", options:["Columbus","Magellan","Cook","Vespucci"], answer:0},
  {category:"History", q:"French Revolution year?", options:["1789","1776","1800","1799"], answer:0},
  {category:"History", q:"Industrial Revolution began?", options:["1700","1750","1760","1800"], answer:2},
  {category:"History", q:"Berlin Wall fell?", options:["1989","1990","1991","1980"], answer:0},
  {category:"History", q:"Mahatma Gandhi country?", options:["India","Pakistan","Nepal","Sri Lanka"], answer:0},
  {category:"History", q:"First man on Moon?", options:["Yuri","Armstrong","Aldrin","Gagarin"], answer:1},
  {category:"History", q:"Renaissance period?", options:["14th-17th","15th-18th","16th-19th","13th-16th"], answer:0},
  {category:"History", q:"WW1 began?", options:["1912","1914","1916","1918"], answer:1},
  {category:"History", q:"Alexander the Great king of?", options:["Macedon","Greece","Persia","Egypt"], answer:0},
  {category:"History", q:"Roman Empire capital?", options:["Rome","Athens","Carthage","Constantinople"], answer:0},
  {category:"History", q:"Magna Carta year?", options:["1215","1200","1220","1210"], answer:0},
  {category:"History", q:"American Civil War?", options:["1861","1865","1870","1850"], answer:0},
  {category:"History", q:"Napoleon country?", options:["France","Spain","Italy","Germany"], answer:0},
  {category:"History", q:"Battle of Hastings year?", options:["1066","1056","1076","1086"], answer:0},
  {category:"History", q:"Cold War years?", options:["1947-1991","1950-1990","1945-1990","1950-2000"], answer:0},
  {category:"History", q:"Industrial Revolution country?", options:["UK","USA","France","Germany"], answer:0},
  // Sports
  {category:"Sports", q:"World Cup football held every?", options:["2","3","4","5"], answer:2},
  {category:"Sports", q:"Olympics first held in?", options:["776 BC","1900","1896","1920"], answer:0},
  {category:"Sports", q:"Basketball invented by?", options:["Naismith","Jordan","James","Curry"], answer:0},
  {category:"Sports", q:"Tennis Grand Slam events?", options:["3","4","5","6"], answer:1},
  {category:"Sports", q:"Football has how many players?", options:["9","10","11","12"], answer:2},
  {category:"Sports", q:"Cricket Test overs?", options:["50","20","Unlimited","40"], answer:2},
  {category:"Sports", q:"Fastest 100m sprinter?", options:["Usain Bolt","Carl Lewis","Justin Gatlin","Yohan Blake"], answer:0},
  {category:"Sports", q:"Golf played with?", options:["Ball","Disc","Stick","Frisbee"], answer:0},
  {category:"Sports", q:"Ice hockey played on?", options:["Field","Ice","Grass","Sand"], answer:1},
  {category:"Sports", q:"Formula 1 race laps?", options:["Varies","10","50","100"], answer:0},
  {category:"Sports", q:"Volleyball players?", options:["5","6","7","8"], answer:1},
  {category:"Sports", q:"Rugby field length?", options:["100m","90m","110m","120m"], answer:0},
  {category:"Sports", q:"Basketball points per basket?", options:["2 or 3","1","5","4"], answer:0},
  {category:"Sports", q:"Swimming Olympic laps?", options:["50m","100m","200m","All"], answer:3},
  {category:"Sports", q:"Boxing rounds?", options:["3","12","10","15"], answer:2},
  {category:"Sports", q:"Marathon distance?", options:["42.195km","40km","50km","45km"], answer:0},
  {category:"Sports", q:"Football World Cup first winner?", options:["Uruguay","Brazil","Germany","Italy"], answer:0},
  {category:"Sports", q:"Tennis ball color?", options:["Yellow","White","Green","Red"], answer:0},
  {category:"Sports", q:"Cricket world cup year?", options:["1975","1980","1990","2000"], answer:0},
  {category:"Sports", q:"Basketball hoop height?", options:["10ft","9ft","11ft","12ft"], answer:0},
  {category:"Sports", q:"Olympic host 2021?", options:["Tokyo","Beijing","Rio","London"], answer:0},
  // Math
  {category:"Math", q:"2+2=?", options:["3","4","5","6"], answer:1},
  {category:"Math", q:"Square root of 64?", options:["6","7","8","9"], answer:2},
  {category:"Math", q:"10/2=?", options:["2","5","10","20"], answer:1},
  {category:"Math", q:"5*6=?", options:["30","25","35","20"], answer:0},
  {category:"Math", q:"10^2=?", options:["100","10","20","50"], answer:0},
  {category:"Math", q:"Factorial of 5?", options:["120","24","60","100"], answer:0},
  {category:"Math", q:"Pi approx?", options:["3.14","3.41","3.15","3.25"], answer:0},
  {category:"Math", q:"Next prime after 7?", options:["9","10","11","13"], answer:2},
  {category:"Math", q:"Derivative of x^2?", options:["x","2x","x^2","2"], answer:1},
  {category:"Math", q:"Integral of 2x?", options:["x^2","2x","x","x^2/2"], answer:0},
  {category:"Math", q:"Solve 2x=10", options:["2","5","10","20"], answer:1},
  {category:"Math", q:"Log10(100)?", options:["1","2","10","100"], answer:1},
  {category:"Math", q:"0!=?", options:["0","1","2","-1"], answer:1},
  {category:"Math", q:"Area circle r=2?", options:["12.56","14","16","10"], answer:0},
  {category:"Math", q:"Hypotenuse 3,4?", options:["5","6","7","4"], answer:0},
  {category:"Math", q:"Angle sum triangle?", options:["180째","90째","360째","270째"], answer:0},
  {category:"Math", q:"Next Fibonacci after 8?", options:["9","10","13","11"], answer:2},
  {category:"Math", q:"5^3=?", options:["125","15","50","100"], answer:0},
  {category:"Math", q:"Simplify 2+3*4", options:["20","14","18","12"], answer:1},
  {category:"Math", q:"Solve x-5=0", options:["5","0","-5","10"], answer:0},
];

function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('show'));
  document.getElementById(id).classList.add('show');
}

// Login function
function login(){
  const u = document.getElementById('loginUser').value.trim();
  const p = document.getElementById('loginPass').value.trim();
  if(u && p){
    username = u;
    showSection('namePage');
  } else alert('Enter username and password');
}

// Start quiz after entering display name
function startQuiz(){
  const n = document.getElementById('displayName').value.trim();
  if(!n){ alert('Enter display name'); return; }
  displayName = n;
  document.getElementById('welcomeUser').innerText = `Hello, ${displayName}`;
  document.getElementById('logoutBtn').style.display='inline-block';
  showSection('homePage');
}

// Show category page
function showCategoryPage(){ showSection('categoryPage'); }
function backToHome(){ showSection('categoryPage'); }

// Choose category
function chooseCategory(cat){
  currentCategory = cat;
  currentQuestions = questions.filter(q=>q.category===cat);
  currentIndex = 0;
  userAnswers[cat] = new Array(currentQuestions.length).fill(null);
  showSection('quizSection');
  loadQuestion();
}

// Load question with fade
function loadQuestion(){
  const q = currentQuestions[currentIndex];
  const questionEl = document.getElementById('questionText');
  const optionsEl = document.getElementById('options');

  questionEl.style.opacity = 0; optionsEl.style.opacity = 0;
  setTimeout(()=>{
    questionEl.innerText = `${currentIndex+1}. ${q.q}`;
    let html = '';
    q.options.forEach((opt,i)=>{
      const checked = userAnswers[currentCategory][currentIndex]===i?"checked":"";
      html += `<div class="form-check">
                 <input class="form-check-input" type="radio" name="option" id="opt${i}" value="${i}" ${checked} onchange="optionSelected()">
                 <label class="form-check-label" for="opt${i}">${opt}</label>
               </div>`;
    });
    optionsEl.innerHTML = html;
    questionEl.style.opacity = 1; optionsEl.style.opacity = 1;
  }, 200);

  const prog = Math.round(((currentIndex+1)/currentQuestions.length)*100);
  document.getElementById('progressBar').style.width = prog + '%';
  document.getElementById('progressBar').innerText = `Question ${currentIndex+1} of ${currentQuestions.length}`;

  document.querySelector("button[onclick='prevQuestion()']").style.display=currentIndex===0?'none':'inline-block';
  const nextBtn = document.querySelector("button[onclick='nextQuestion()']");
  const submitBtn = document.getElementById('submitBtn');
  if(currentIndex===currentQuestions.length-1){
    nextBtn.style.display='none';
    submitBtn.style.display='inline-block';
    submitBtn.disabled = userAnswers[currentCategory][currentIndex]===null;
  } else {
    nextBtn.style.display='inline-block';
    nextBtn.disabled = userAnswers[currentCategory][currentIndex]===null;
    submitBtn.style.display='none';
  }
}

// Answer selection
function optionSelected(){
  const sel = document.querySelector("input[name='option']:checked");
  userAnswers[currentCategory][currentIndex] = sel ? parseInt(sel.value) : null;
  const submitBtn = document.getElementById('submitBtn');
  const nextBtn = document.querySelector("button[onclick='nextQuestion()']");
  if(currentIndex===currentQuestions.length-1) submitBtn.disabled=false;
  else nextBtn.disabled=false;
}

function saveAnswer(){ optionSelected(); }
function nextQuestion(){ saveAnswer(); currentIndex++; loadQuestion(); }
function prevQuestion(){ saveAnswer(); currentIndex--; loadQuestion(); }

// Submit quiz
function submitQuiz(){
  saveAnswer();
  const answers = userAnswers[currentCategory];
  let score=0;
  answers.forEach((a,i)=>{ if(a===currentQuestions[i].answer) score++; });
  totalScore += score;
  document.getElementById('scoreText').innerText = `${displayName}, you scored ${score} out of ${currentQuestions.length} in ${currentCategory}`;
  document.getElementById('totalScoreText').innerText = `Total score so far: ${totalScore}`;
  showSection('scoreSection');
}

// Feedback
function feedbackPage(){ showSection('feedbackSection'); }
function submitFeedback(){
  const f = document.getElementById('feedbackText').value.trim();
  if(!f){ alert('Enter feedback'); return; }
  document.getElementById('feedbackMsg').innerText="Thank you for your feedback!";
  document.getElementById('feedbackText').value="";
}

// Logout
function restart(){ 
  username=""; displayName=""; totalScore=0;
  document.getElementById('loginUser').value=""; document.getElementById('loginPass').value="";
  document.getElementById('displayName').value="";
  document.getElementById('welcomeUser').innerText='';
  document.getElementById('logoutBtn').style.display='none';
  showSection('loginPage');
}
function logout(){ if(confirm("Are you sure you want to logout?")) restart(); }

// Initial load
showSection('loginPage');
</script>
</body>
</html>
